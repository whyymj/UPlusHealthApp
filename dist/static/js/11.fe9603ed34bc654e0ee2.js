webpackJsonp([11],{"30pd":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),i=a.n(s),n=a("exGp"),c=a.n(n),r=a("mtWM"),o=a.n(r),l=a("Au9i"),m={name:"family-management",data:function(){return{isModel:null,isDelete:!1,editText:"编辑",createdList:[],associatedList:[],headPic:"",memberList:""}},created:function(){},mounted:function(){this.getFamilyList(),this.initUserInfo()},methods:{initUserInfo:function(){var e=this;return c()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.post("/api/user/info",{phone:""});case 3:"C0000"===(a=t.sent).data.code&&(e.headPic=a.data.data.head_pic),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,e,[[0,7]])}))()},getFamilyList:function(){var e=this;return c()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.get("/api/family");case 3:"C0000"===(a=t.sent).data.code&&(e.associatedList=a.data.data[1],e.createdList=a.data.data[0]),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,e,[[0,7]])}))()},openAssociate:function(){this.$router.push({path:"/associatedFamilyS"})},openCreate:function(){this.$router.push({path:"/createFamily"})},deleteItem:function(e,t){var a=this;l.MessageBox.confirm("确定删除吗?").then(function(s){a.memberList+=e+",",console.log(a.memberList),a.createdList.splice(t,1)}).catch(function(e){console.log(e)})},skipTo:function(e){window._member_id=e,this.$router.push({path:"/healthRecordsB"})},showDelete:function(){var e=this;return c()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isDelete=!e.isDelete,!e.isDelete){t.next=5;break}e.editText="保存",t.next=19;break;case 5:if(""!==e.memberList){t.next=9;break}e.editText="编辑",t.next=19;break;case 9:return t.prev=9,t.next=12,o.a.post("/api/member/delete",{memberList:e.memberList.substring(0,e.memberList.length-1)});case 12:"C0000"===t.sent.data.code&&(e.editText="编辑"),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(9),console.log("err: ",t.t0);case 19:case"end":return t.stop()}},t,e,[[9,16]])}))()}}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page associated-family-v"},[s("div",{staticClass:"container has-footer"},[s("div",{staticClass:"space"}),e._v(" "),s("div",{staticClass:"family-member"},[s("div",{staticClass:"family-item text-center"},[s("div",{staticClass:"family-img",on:{click:function(t){e.skipTo("")}}},[s("img",{attrs:{src:e.headPic,alt:"family-img"}})]),e._v(" "),s("div",{staticClass:"name"},[e._v("我")])]),e._v(" "),e._l(e.createdList,function(t,i){return s("div",{key:i,staticClass:"family-item text-center"},[s("div",{staticClass:"family-img",on:{click:function(a){e.skipTo(t.member_id)}}},[s("img",{attrs:{src:t.head_pic,alt:"family-img"}})]),e._v(" "),s("div",{staticClass:"name"},[e._v(e._s(t.relation_name))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isDelete,expression:"isDelete"}],staticClass:"delete-wrap"},[s("img",{staticClass:"u-minus",attrs:{src:a("AlPP"),alt:""},on:{click:function(a){e.deleteItem(t.member_id,i)}}})])])})],2),e._v(" "),s("div",{staticClass:"associated-create",on:{click:function(t){e.openCreate()}}},[s("i",{staticClass:"create fa fa-plus"}),e._v(" "),s("span",{staticClass:"create"},[e._v("创建家人")])]),e._v(" "),s("div",{staticClass:"space"}),e._v(" "),e._m(0)]),e._v(" "),s("footer",{staticClass:"footer"},[s("button",{staticClass:"confirm",on:{click:function(t){e.showDelete()}}},[e._v(e._s(e.editText))])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tips"},[t("h2",[this._v("提示")]),this._v(" "),t("p",[this._v("\n      \t1、点击编辑，进入编辑模式，误删家人情况下只要不点保存设置，即删除操作未完成。\n      ")])])}]};var u=a("VU/8")(m,d,!1,function(e){a("7E1b")},null,null);t.default=u.exports},"7E1b":function(e,t){},AlPP:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAhVJREFUSA3FV7FOAkEQnVko/AISSGw08Qds1MoSqYiaGGMEvsDEWNBSqB0x8QugMMZEE2yMX6AW+gMm2pBAwhfYcOObPQ+440BA7pwCdudm5u3c7M6+Y5pApFIx9PK5QcJ5YmeViDMkkrGuzC0iaZGYN2Jp0NrSE1cqzm9heZyBlEoL1JYjIucEdqlxtgPPOkSmSmm+5Frta0DvG44Ellxxh7pygWwWfR4TT7hJCT7mh/pdmIsJKkWEZatwRl3ndnZQjYoFI4bG0phBHJ/CGmSL13DaCxr+bc439FjfZ2bx4vgzzhVP5w+qUEjExvZgsT29oVtTfb0RSsLsejW3wO7udd5tXSLERZ5NSpsV3e3uq7ZHZtbdO81KgWGxsATbHJ4/2nCf9JxOgxRm26H15bTbkeID1YWktAsa2wbD1hWlDq3XuL03SpSQ2Oj3SdvwqXeu+1YH+f74L6OrRog3Z5K9Wyb4+HA7qJltHgaMm83fuWYLPb0XWidqrPdp7NJGxrjEYxdpocZgDuRsDmFnC0Oq+Sn4Fa8adCV+uTfKkYALuhKbdBTTuMQMHCk2MVXFdI8TiJm9siIH12tRsUAH9ceyQRAzHUcqSv5+mGevgVhmYPg8MmDE9tiHYvSoj07+jexZFgg2SPPMXGMFGOZQxqrwJHZC7wHbeoCYYf+VoZvmnOsnTNmSuhFfEYrhq7EHGvyP4qPtG7dayl+ypdzJAAAAAElFTkSuQmCC"}});
//# sourceMappingURL=11.fe9603ed34bc654e0ee2.js.map