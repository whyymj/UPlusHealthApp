webpackJsonp([16],{XxRM:function(t,e){},iUAG:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("mvHQ"),a=i.n(s),c=i("Xxa5"),n=i.n(c),o=i("exGp"),r=i.n(o),d=i("mtWM"),l=i.n(d),h={data:function(){return{highlightIndex:"",showShake:!1,replaceItem:[],addedList:[],effectList:[],allList:[{projectIcon:"icon-pressure",projectName:"血压",id:"3"},{projectIcon:"icon-temperature",projectName:"体温",id:"2"},{projectIcon:"icon-ecg",projectName:"心电",id:"5"},{projectIcon:"icon-blood-sugar",projectName:"血糖",id:"4"},{projectIcon:"icon-oxygen",projectName:"血氧",id:"6"},{projectIcon:"icon-weight",projectName:"体重",id:"1"}]}},mounted:function(){var t=document.documentElement.clientHeight||document.body.clientHeight;document.querySelector(".add-project").style.minHeight=t+"px",this.initList()},methods:{initList:function(){var t=this;return r()(n.a.mark(function e(){var i,s,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/api/health?member_id="+window._member_id);case 3:if("C0000"!==(i=e.sent).data.code){e.next=26;break}if(console.log(i),0!==i.data.data.pro_item.length){e.next=10;break}t.effectList=t.allList,e.next=25;break;case 10:t.addedList=JSON.parse(i.data.data.pro_item),s=0;case 12:if(!(s<t.addedList.length)){e.next=24;break}a=0;case 14:if(!(a<t.allList.length)){e.next=21;break}if(t.addedList[s].id!==t.allList[a].id){e.next=18;break}return t.allList.splice(a,1),e.abrupt("break",21);case 18:a++,e.next=14;break;case 21:s++,e.next=12;break;case 24:t.effectList=t.allList;case 25:"string"==typeof i.data.data.custom_id?t.custom_id=i.data.data.custom_id:t.custom_id="";case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log("Whoops: ",e.t0);case 31:case"end":return e.stop()}},e,t,[[0,28]])}))()},setList:function(){var t=this;return r()(n.a.mark(function e(){var i,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={member_id:window._member_id,custom_id:t.custom_id,pro_item:a()(t.addedList)},e.next=4,l.a.post("/api/health",i);case 4:"C0000"===(s=e.sent).data.code&&(console.log("success"),t.custom_id=s.data.data.custom_id),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Whoops: ",e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()},deleteProject:function(t){var e=void 0;this.showShake?(e=this.addedList.splice(t,1,this.replaceItem[0]),this.effectList.splice(this.highlightIndex,1),this.effectList.push(e[0]),this.showShake=!1,this.highlightIndex=""):(e=this.addedList.slice(t,t+1),this.addedList.splice(t,1),this.effectList.push(e[0])),this.setList()},addProject:function(t){var e=this.effectList.slice(t,t+1);this.addedList.length<6?(this.highlightIndex="",this.showShake=!1,this.addedList.push(e[0]),this.effectList.splice(t,1)):(this.highlightIndex=t,this.showShake=!0,this.replaceItem=this.effectList.slice(t,t+1)),this.setList()}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page add-project"},[i("div",{staticClass:"container add-container"},[i("div",{staticClass:"add-project-item"},[t._m(0),t._v(" "),i("ul",{staticClass:"project-list added-project-list clearfix"},t._l(t.addedList,function(e,s){return i("li",{key:s},[i("div",{staticClass:"project-icon-wrap text-center"},[i("div",{staticClass:"icon-item",class:[{shake:t.showShake}],on:{click:function(e){t.deleteProject(s)}}},[i("i",{staticClass:"project-icon",class:e.projectIcon}),t._v(" "),i("i",{staticClass:"badge-icon fa fa-minus"})]),t._v(" "),i("div",{staticClass:"project-name"},[t._v(t._s(e.projectName))])])])}))]),t._v(" "),i("div",{staticClass:"add-project-item"},[i("h3",[t._v("还可添加")]),t._v(" "),i("ul",{staticClass:"project-list effe-project-list clearfix"},t._l(t.effectList,function(e,s){return i("li",{key:s},[i("div",{staticClass:"project-icon-wrap text-center",class:[{highlight:t.highlightIndex===s}]},[i("div",{staticClass:"icon-item",on:{click:function(e){t.addProject(s)}}},[i("i",{staticClass:"project-icon",class:e.projectIcon}),t._v(" "),i("i",{staticClass:"badge-icon fa fa-plus"})]),t._v(" "),i("div",{staticClass:"project-name"},[t._v(t._s(e.projectName))])])])}))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[this._v("我的添加"),e("span",[this._v("(最多添加6项)")])])}]};var u=i("VU/8")(h,p,!1,function(t){i("XxRM")},null,null);e.default=u.exports}});
//# sourceMappingURL=16.cfa435be123cade32840.js.map